/* Zepto v1.0rc1 - polyfill zepto event detect fx ajax form touch - zeptojs.com/license */(function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});Array.prototype.reduce===a&&(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw new TypeError;var g=Object(this),b=g.length>>>0,f=0,l;if("function"!=typeof e)throw new TypeError;if(0==b&&1==arguments.length)throw new TypeError;if(2<=arguments.length)l=arguments[1];else{do{if(f in g){l=g[f++];break}if(++f>=b)throw new TypeError;}while(1)}for(;f<b;)f in g&&(l=e.call(a,l,g[f],f,g)),f++;return l})})();var Zepto=function(){function a(c){return"[object Function]"==L.call(c)}function e(c){return c instanceof Object}function g(c){var d,y;if("[object Object]"!==L.call(c))return!1;y=a(c.constructor)&&c.constructor.prototype;if(!y||!hasOwnProperty.call(y,"isPrototypeOf"))return!1;for(d in c);return d===k||hasOwnProperty.call(c,d)}function b(c){return c instanceof Array}function f(c){return"number"==typeof c.length}function l(c){return c.filter(function(c){return c!==k&&null!==c})}function m(c){return c.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function p(c){return c in H?H[c]:H[c]=new RegExp("(^|\\s)"+c+"(\\s|$)")}function B(c,d){return"number"!=typeof d||E[m(c)]?d:d+"px"}function u(c,a){return a===k?d(c):d(c).filter(a)}function z(c,d,y,b){return a(d)?d.call(c,y,b):d}function A(c,a,y){var b=c%2?a:a.parentNode;b?b.insertBefore(y,c?1==c?b.firstChild:2==c?a:null:a.nextSibling):d(y).remove()}function x(c,d){d(c);for(var a in c.childNodes)x(c.childNodes[a],d)}var k,q,d,n,v=[],D=v.slice,w=window.document,F={},H={},G=w.defaultView.getComputedStyle,E={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,C=[1,3,8,9,11],J=w.createElement("table"),N=w.createElement("tr"),r={tr:w.createElement("tbody"),tbody:J,thead:J,tfoot:J,td:N,th:N,"*":w.createElement("div")},P=/complete|loaded|interactive/,Q=/^\.([\w-]+)$/,R=/^#([\w-]+)$/,S=/^[\w-]+$/,L={}.toString,t={},K,I,O=w.createElement("div");return t.matches=function(c,d){if(!c||1!==c.nodeType)return!1;var a=c.webkitMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector||c.matchesSelector;if(a)return a.call(c,d);var b,a=c.parentNode,h=!a;return h&&(a=O).appendChild(c),b=~t.qsa(a,d).indexOf(c),h&&O.removeChild(c),b},K=function(c){return c.replace(/-+(.)?/g,function(c,d){return d?d.toUpperCase():""})},I=function(c){return c.filter(function(d,a){return c.indexOf(d)==a})},t.fragment=function(c,a){a===k&&(a=h.test(c)&&RegExp.$1);a in r||(a="*");var b=r[a];return b.innerHTML=""+c,d.each(D.call(b.childNodes),function(){b.removeChild(this)})},t.Z=function(c,d){return c=c||[],c.__proto__=arguments.callee.prototype,c.selector=d||"",c},t.isZ=function(c){return c instanceof t.Z},t.init=function(c,M){if(!c)return t.Z();if(a(c))return d(w).ready(c);if(t.isZ(c))return c;var y;if(b(c))y=l(c);else if(g(c))y=[d.extend({},c)],c=null;else if(0<=C.indexOf(c.nodeType)||c===window)y=[c],c=null;else if(h.test(c))y=t.fragment(c.trim(),RegExp.$1),c=null;else{if(M!==k)return d(M).find(c);y=t.qsa(w,c)}return t.Z(y,c)},d=function(c,d){return t.init(c,d)},d.extend=function(c){return D.call(arguments,1).forEach(function(d){for(q in d)d[q]!==k&&(c[q]=d[q])}),c},t.qsa=function(c,d){var a;return c===w&&R.test(d)?(a=c.getElementById(RegExp.$1))?[a]:v:1!==c.nodeType&&9!==c.nodeType?v:D.call(Q.test(d)?c.getElementsByClassName(RegExp.$1):S.test(d)?c.getElementsByTagName(d):c.querySelectorAll(d))},d.isFunction=a,d.isObject=e,d.isArray=b,d.isPlainObject=g,d.inArray=function(c,d,a){return v.indexOf.call(d,c,a)},d.trim=function(c){return c.trim()},d.uuid=0,d.map=function(c,d){var a,b=[],h;if(f(c))for(h=0;h<c.length;h++)a=d(c[h],h),null!=a&&b.push(a);else for(h in c)a=d(c[h],h),null!=a&&b.push(a);return 0<b.length?[].concat.apply([],b):b},d.each=function(c,d){var a;if(f(c))for(a=0;a<c.length&&!1!==d.call(c[a],a,c[a]);a++);else for(a in c)if(!1===d.call(c[a],a,c[a]))break;return c},d.fn={forEach:v.forEach,reduce:v.reduce,push:v.push,indexOf:v.indexOf,concat:v.concat,map:function(c){return d.map(this,function(d,a){return c.call(d,a,d)})},slice:function(){return d(D.apply(this,arguments))},ready:function(c){return P.test(w.readyState)?c(d):w.addEventListener("DOMContentLoaded",function(){c(d)},!1),this},get:function(c){return c===k?D.call(this):this[c]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(c){return this.forEach(function(d,a){c.call(d,a,d)}),this},filter:function(c){return d([].filter.call(this,function(d){return t.matches(d,c)}))},add:function(c,a){return d(I(this.concat(d(c,a))))},is:function(c){return 0<this.length&&t.matches(this[0],c)},not:function(c){var b=[];if(a(c)&&c.call!==k)this.each(function(d){c.call(this,d)||b.push(this)});else{var h="string"==typeof c?this.filter(c):f(c)&&a(c.item)?D.call(c):d(c);this.forEach(function(c){0>h.indexOf(c)&&b.push(c)})}return d(b)},eq:function(c){return-1===c?this.slice(c):this.slice(c,+c+1)},first:function(){var c=this[0];return c&&!e(c)?c:d(c)},last:function(){var c=this[this.length-1];return c&&!e(c)?c:d(c)},find:function(c){var a;return 1==this.length?a=t.qsa(this[0],c):a=this.map(function(){return t.qsa(this,c)}),d(a)},closest:function(c,a){for(var b=this[0];b&&!t.matches(b,c);)b=b!==a&&b!==w&&b.parentNode;return d(b)},parents:function(c){for(var a=[],b=this;0<b.length;)b=d.map(b,function(c){if((c=c.parentNode)&&c!==w&&0>a.indexOf(c))return a.push(c),c});return u(a,c)},parent:function(c){return u(I(this.pluck("parentNode")),c)},children:function(c){return u(this.map(function(){return D.call(this.children)}),c)},siblings:function(c){return u(this.map(function(c,d){return D.call(d.parentNode.children).filter(function(c){return c!==d})}),c)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(c){return this.map(function(){return this[c]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null);if("none"==G(this,"").getPropertyValue("display")){var c=this.style,d;d=this.nodeName;var a,b;d=(F[d]||(a=w.createElement(d),w.body.appendChild(a),b=G(a,"").getPropertyValue("display"),a.parentNode.removeChild(a),"none"==b&&(b="block"),F[d]=b),F[d]);c.display=d}})},replaceWith:function(c){return this.before(c).remove()},wrap:function(c){return this.each(function(){d(this).wrapAll(d(c)[0].cloneNode(!1))})},wrapAll:function(c){return this[0]&&(d(this[0]).before(c=d(c)),c.append(this)),this},unwrap:function(){return this.parent().each(function(){d(this).replaceWith(d(this).children())}),this},clone:function(){return d(this.map(function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(c){return(c===k?"none"==this.css("display"):c)?this.show():this.hide()},prev:function(){return d(this.pluck("previousElementSibling"))},next:function(){return d(this.pluck("nextElementSibling"))},html:function(c){return c===k?0<this.length?this[0].innerHTML:null:this.each(function(a){var b=this.innerHTML;d(this).empty().append(z(this,c,a,b))})},text:function(c){return c===k?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=c})},attr:function(c,d){var a;return"string"==typeof c&&d===k?0==this.length||1!==this[0].nodeType?k:"value"==c&&"INPUT"==this[0].nodeName?this.val():!(a=this[0].getAttribute(c))&&c in this[0]?this[0][c]:a:this.each(function(a){if(1===this.nodeType)if(e(c))for(q in c)this.setAttribute(q,c[q]);else this.setAttribute(c,z(this,d,a,this.getAttribute(c)))})},removeAttr:function(c){return this.each(function(){1===this.nodeType&&this.removeAttribute(c)})},prop:function(c,d){return d===k?this[0]?this[0][c]:k:this.each(function(a){this[c]=z(this,d,a,this[c])})},data:function(c,d){var a=this.attr("data-"+m(c),d);return null!==a?a:k},val:function(c){return c===k?0<this.length?this[0].value:k:this.each(function(d){this.value=z(this,c,d,this.value)})},offset:function(){if(0==this.length)return null;var c=this[0].getBoundingClientRect();return{left:c.left+window.pageXOffset,top:c.top+window.pageYOffset,width:c.width,height:c.height}},css:function(c,d){if(d===k&&"string"==typeof c)return 0==this.length?k:this[0].style[K(c)]||G(this[0],"").getPropertyValue(c);var a="";for(q in c)"string"==typeof c[q]&&""==c[q]?this.each(function(){this.style.removeProperty(m(q))}):a+=m(q)+":"+B(q,c[q])+";";return"string"==typeof c&&(""==d?this.each(function(){this.style.removeProperty(m(c))}):a=m(c)+":"+B(c,d)),this.each(function(){this.style.cssText+=";"+a})},index:function(c){return c?this.indexOf(d(c)[0]):this.parent().children().indexOf(this[0])},hasClass:function(c){return 1>this.length?!1:p(c).test(this[0].className)},addClass:function(c){return this.each(function(a){n=[];var b=this.className;z(this,c,a,b).split(/\s+/g).forEach(function(c){d(this).hasClass(c)||n.push(c)},this);n.length&&(this.className+=(b?" ":"")+n.join(" "))})},removeClass:function(c){return this.each(function(d){if(c===k)return this.className="";n=this.className;z(this,c,d,n).split(/\s+/g).forEach(function(c){n=n.replace(p(c)," ")});this.className=n.trim()})},toggleClass:function(c,a){return this.each(function(b){b=z(this,c,b,this.className);(a===k?!d(this).hasClass(b):a)?d(this).addClass(b):d(this).removeClass(b)})}},["width","height"].forEach(function(c){d.fn[c]=function(a){var b,h=c.replace(/./,function(c){return c[0].toUpperCase()});return a===k?this[0]==window?window["inner"+h]:this[0]==w?w.documentElement["offset"+h]:(b=this.offset())&&b[c]:this.each(function(b){var h=d(this);h.css(c,z(this,a,b,h[c]()))})}}),["after","prepend","before","append"].forEach(function(c,a){d.fn[c]=function(){var c=d.map(arguments,function(c){return e(c)?c:t.fragment(c)});if(1>c.length)return this;var b=this.length,h=1<b,n=2>a;return this.each(function(d,E){for(var C=0;C<c.length;C++){var e=c[n?c.length-C-1:C];x(e,function(c){null==c.nodeName||"SCRIPT"!==c.nodeName.toUpperCase()||c.type&&"text/javascript"!==c.type||window.eval.call(window,c.innerHTML)});h&&d<b-1&&(e=e.cloneNode(!0));A(a,E,e)}})};d.fn[a%2?c+"To":"insert"+(a?"Before":"After")]=function(a){return d(a)[c](this),this}}),t.Z.prototype=d.fn,t.camelize=K,t.uniq=I,d.zepto=t,d}();window.Zepto=Zepto;"$"in window||(window.$=Zepto);(function(a){function e(a){return a._zid||(a._zid=z++)}function g(a,n,v,f){n=b(n);if(n.ns)var g=new RegExp("(?:^| )"+n.ns.replace(" "," .* ?")+"(?: |$)");return(u[e(a)]||[]).filter(function(a){return a&&(!n.e||a.e==n.e)&&(!n.ns||g.test(a.ns))&&(!v||e(a.fn)===e(v))&&(!f||a.sel==f)})}function b(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function f(d,b,e){a.isObject(d)?a.each(d,e):d.split(/\s/).forEach(function(a){e(a,b)})}function l(d,n,g,k,l,m){m=!!m;var B=e(d),p=u[B]||(u[B]=[]);f(n,g,function(n,h){var C=l&&l(h,n),e=C||h,f=function(a){var b=e.apply(d,[a].concat(a.data));return!1===b&&a.preventDefault(),b},C=a.extend(b(n),{fn:h,proxy:f,sel:k,del:C,i:p.length});p.push(C);d.addEventListener(C.e,f,m)})}function m(a,b,v,k){var l=e(a);f(b||"",v,function(b,n){g(a,b,n,k).forEach(function(b){delete u[l][b.i];a.removeEventListener(b.e,b.proxy,!1)})})}function p(d){var b=a.extend({originalEvent:d},d);return a.each(q,function(a,e){b[a]=function(){return this[e]=x,d[a].apply(d,arguments)};b[e]=k}),b}function B(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0;b.call(this)}}}var u={},z=1,A={};A.click=A.mousedown=A.mouseup=A.mousemove="MouseEvents";a.event={add:l,remove:m};a.proxy=function(d,b){if(a.isFunction(d)){var f=function(){return d.apply(b,arguments)};return f._zid=e(d),f}if("string"==typeof b)return a.proxy(d[b],d);throw new TypeError("expected function");};a.fn.bind=function(a,b){return this.each(function(){l(this,a,b)})};a.fn.unbind=function(a,b){return this.each(function(){m(this,a,b)})};a.fn.one=function(a,b){return this.each(function(e,f){l(this,a,b,null,function(a,d){return function(){var b=a.apply(f,arguments);return m(f,d,a),b}})})};var x=function(){return!0},k=function(){return!1},q={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(d,b,e){var f=!1;if("blur"==b||"focus"==b)a.iswebkit?b="blur"==b?"focusout":"focus"==b?"focusin":b:f=!0;return this.each(function(g,k){l(k,b,e,d,function(b){return function(e){var E,h=a(e.target).closest(d,k).get(0);if(h)return E=a.extend(p(e),{currentTarget:h,liveFired:k}),b.apply(h,[E].concat([].slice.call(arguments,1)))}},f)})};a.fn.undelegate=function(a,b,e){return this.each(function(){m(this,b,e,a)})};a.fn.live=function(d,b){return a(document.body).delegate(this.selector,d,b),this};a.fn.die=function(d,b){return a(document.body).undelegate(this.selector,d,b),this};a.fn.on=function(b,e,f){return void 0==e||a.isFunction(e)?this.bind(b,e):this.delegate(e,b,f)};a.fn.off=function(b,e,f){return void 0==e||a.isFunction(e)?this.unbind(b,e):this.undelegate(e,b,f)};a.fn.trigger=function(b,e){return"string"==typeof b&&(b=a.Event(b)),B(b),b.data=e,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})};a.fn.triggerHandler=function(b,e){var f,k;return this.each(function(l,u){f=p("string"==typeof b?a.Event(b):b);f.data=e;f.target=u;a.each(g(u,b.type||b),function(a,b){k=b.proxy(f);if(f.isImmediatePropagationStopped())return!1})}),k};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}});["focus","blur"].forEach(function(b){a.fn[b]=function(a){if(a)this.bind(b,a);else if(this.length)try{this.get(0)[b]()}catch(e){}return this}});a.Event=function(a,b){var e=document.createEvent(A[a]||"Events"),f=!0;if(b)for(var g in b)"bubbles"==g?f=!!b[g]:e[g]=b[g];return e.initEvent(a,f,!0,null,null,null,null,null,null,null,null,null,null,null,null),e}})(Zepto);(function(a){function e(a){var b=this.os={},e=this.browser={},l=a.match(/WebKit\/([\d.]+)/),m=a.match(/(Android)\s+([\d.]+)/),p=a.match(/(iPad).*OS\s([\d_]+)/),B=!p&&a.match(/(iPhone\sOS)\s([\d_]+)/),u=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),z=u&&a.match(/TouchPad/),A=a.match(/Kindle\/([\d.]+)/),x=a.match(/Silk\/([\d._]+)/),k=a.match(/(BlackBerry).*Version\/([\d.]+)/);if(e.webkit=!!l)e.version=l[1];m&&(b.android=!0,b.version=m[2]);B&&(b.ios=b.iphone=!0,b.version=B[2].replace(/_/g,"."));p&&(b.ios=b.ipad=!0,b.version=p[2].replace(/_/g,"."));u&&(b.webos=!0,b.version=u[2]);z&&(b.touchpad=!0);k&&(b.blackberry=!0,b.version=k[2]);A&&(b.kindle=!0,b.version=A[1]);x&&(e.silk=!0,e.version=x[1]);!x&&b.android&&a.match(/Kindle Fire/)&&(e.silk=!0)}e.call(a,navigator.userAgent);a.__detect=e})(Zepto);(function(a,e){function g(a){return f?f+a:a.toLowerCase()}var b="",f,l=window.document.createElement("div"),m=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,p={};a.each({Webkit:"webkit",Moz:"",O:"o",ms:"MS"},function(a,g){if(l.style[a+"TransitionProperty"]!==e)return b="-"+a.toLowerCase()+"-",f=g,!1});p[b+"transition-property"]=p[b+"transition-duration"]=p[b+"transition-timing-function"]=p[b+"animation-name"]=p[b+"animation-duration"]="";a.fx={off:f===e&&l.style.transitionProperty===e,cssPrefix:b,transitionEnd:g("TransitionEnd"),animationEnd:g("AnimationEnd")};a.fn.animate=function(b,e,f,g){return a.isObject(e)&&(f=e.easing,g=e.complete,e=e.duration),e&&(e/=1E3),this.anim(b,e,f,g)};a.fn.anim=function(f,g,l,A){var x,k={},q,d=this,n,v=a.fx.transitionEnd;g===e&&(g=.4);a.fx.off&&(g=0);if("string"==typeof f)k[b+"animation-name"]=f,k[b+"animation-duration"]=g+"s",v=a.fx.animationEnd;else{for(q in f)m.test(q)?(x||(x=[]),x.push(q+"("+f[q]+")")):k[q]=f[q];x&&(k[b+"transform"]=x.join(" "));!a.fx.off&&"object"==typeof f&&(k[b+"transition-property"]=Object.keys(f).join(", "),k[b+"transition-duration"]=g+"s",k[b+"transition-timing-function"]=l||"linear")}return n=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(v,arguments.callee)}a(this).css(p);A&&A.call(this)},0<g&&this.bind(v,n),setTimeout(function(){d.css(k);0>=g&&setTimeout(function(){d.each(function(){n.call(this)})},0)},0),this};l=null})(Zepto);(function(a){function e(b,d,e,f){if(b.global)return b=d||k,e=a.Event(e),a(b).trigger(e,f),!e.defaultPrevented}function g(b){b.global&&0===a.active++&&e(b,null,"ajaxStart")}function b(a,b){var d=b.context;if(!1===b.beforeSend.call(d,a,b)||!1===e(b,d,"ajaxBeforeSend",[a,b]))return!1;e(b,d,"ajaxSend",[a,b])}function f(a,b,d){var f=d.context;d.success.call(f,a,"success",b);e(d,f,"ajaxSuccess",[b,d,a]);m("success",b,d)}function l(a,b,d,f){var g=f.context;f.error.call(g,d,b,a);e(f,g,"ajaxError",[d,f,a]);m(b,d,f)}function m(b,d,f){var g=f.context;f.complete.call(g,d,b);e(f,g,"ajaxComplete",[d,f]);f.global&&!--a.active&&e(f,null,"ajaxStop")}function p(){}function B(a){return a&&(a==F?"html":a==w?"json":v.test(a)?"script":D.test(a)&&"xml")||"text"}function u(b){x(b.data)&&(b.data=a.param(b.data));!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=(b.url+"\x26"+b.data).replace(/[&?]{1,2}/,"?"))}function z(b,d,e,f){var g=a.isArray(d);a.each(d,function(d,h){f&&(d=e?f:f+"["+(g?"":d)+"]");!f&&g?b.add(h.name,h.value):(e?a.isArray(h):x(h))?z(b,h,e,d):b.add(d,h)})}var A=0,x=a.isObject,k=window.document,q,d,n=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,v=/^(?:text|application)\/javascript/i,D=/^(?:text|application)\/xml/i,w="application/json",F="text/html",H=/^\s*$/;a.active=0;a.ajaxJSONP=function(b){var d="jsonp"+ ++A,e=k.createElement("script"),g={abort:function(){a(e).remove();d in window&&(window[d]=p);m("abort",g,b)}},l;return b.error&&(e.onerror=function(){g.abort();b.error()}),window[d]=function(k){clearTimeout(l);a(e).remove();delete window[d];f(k,g,b)},u(b),e.src=b.url.replace(/=\?/,"\x3d"+d),a("head").append(e),0<b.timeout&&(l=setTimeout(function(){g.abort();m("timeout",g,b)},b.timeout)),g};a.ajaxSettings={type:"GET",beforeSend:p,success:p,error:p,complete:p,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:w,xml:"application/xml, text/xml",html:F,text:"text/plain"},crossDomain:!1,timeout:0};a.ajax=function(e){var h=a.extend({},e||{});for(q in a.ajaxSettings)void 0===h[q]&&(h[q]=a.ajaxSettings[q]);g(h);h.crossDomain||(h.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(h.url)&&RegExp.$2!=window.location.host);var k=h.dataType;e=/=\?/.test(h.url);if("jsonp"==k||e)return e||(h.url=(h.url+"\x26callback\x3d?").replace(/[&?]{1,2}/,"?")),a.ajaxJSONP(h);h.url||(h.url=window.location.toString());u(h);e=h.accepts[k];var m={},n=/^([\w-]+:)\/\//.test(h.url)?RegExp.$1:window.location.protocol,r=a.ajaxSettings.xhr(),v;h.crossDomain||(m["X-Requested-With"]="XMLHttpRequest");e&&(m.Accept=e,-1<e.indexOf(",")&&(e=e.split(",",2)[0]),r.overrideMimeType&&r.overrideMimeType(e));if(h.contentType||h.data&&"GET"!=h.type.toUpperCase())m["Content-Type"]=h.contentType||"application/x-www-form-urlencoded";h.headers=a.extend(m,h.headers||{});r.onreadystatechange=function(){if(4==r.readyState){clearTimeout(v);var a,b=!1;if(200<=r.status&&300>r.status||304==r.status||0==r.status&&"file:"==n){k=k||B(r.getResponseHeader("content-type"));a=r.responseText;try{"script"==k?(0,eval)(a):"xml"==k?a=r.responseXML:"json"==k&&(a=H.test(a)?null:JSON.parse(a))}catch(d){b=d}b?l(b,"parsererror",r,h):f(a,r,h)}else l(null,"error",r,h)}};r.open(h.type,h.url,"async"in h?h.async:!0);for(d in h.headers)r.setRequestHeader(d,h.headers[d]);return!1===b(r,h)?(r.abort(),!1):(0<h.timeout&&(v=setTimeout(function(){r.onreadystatechange=p;r.abort();l(null,"timeout",r,h)},h.timeout)),r.send(h.data?h.data:null),r)};a.get=function(b,d){return a.ajax({url:b,success:d})};a.post=function(b,d,e,f){return a.isFunction(d)&&(f=f||e,e=d,d=null),a.ajax({type:"POST",url:b,data:d,success:e,dataType:f})};a.getJSON=function(b,d){return a.ajax({url:b,success:d,dataType:"json"})};a.fn.load=function(b,d){if(!this.length)return this;var e=this,f=b.split(/\s/),g;return 1<f.length&&(b=f[0],g=f[1]),a.get(b,function(b){e.html(g?a(k.createElement("div")).html(b.replace(n,"")).find(g).html():b);d&&d.call(e)}),this};var G=encodeURIComponent;a.param=function(a,b){var d=[];return d.add=function(a,b){this.push(G(a)+"\x3d"+G(b))},z(d,a,b),d.join("\x26").replace("%20","+")}})(Zepto);(function(a){a.fn.serializeArray=function(){var e=[],g;return a(Array.prototype.slice.call(this.get(0).elements)).each(function(){g=a(this);var b=g.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=b&&"reset"!=b&&"button"!=b&&("radio"!=b&&"checkbox"!=b||this.checked)&&e.push({name:g.attr("name"),value:g.val()})}),e};a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(g){a.push(encodeURIComponent(g.name)+"\x3d"+encodeURIComponent(g.value))}),a.join("\x26")};a.fn.submit=function(e){e?this.bind("submit",e):this.length&&(e=a.Event("submit"),this.eq(0).trigger(e),e.defaultPrevented||this.get(0).submit());return this}})(Zepto);(function(a){function e(a,b,e,f){return Math.abs(a-b)>=Math.abs(e-f)?0<a-b?"Left":"Right":0<e-f?"Up":"Down"}function g(){l=null;b.last&&(b.el.trigger("longTap"),b={})}var b={},f,l;a(document).ready(function(){var m,p;a(document.body).bind("touchstart",function(e){m=Date.now();p=m-(b.last||m);var u=e.touches[0].target;b.el=a("tagName"in u?u:u.parentNode);f&&clearTimeout(f);b.x1=e.touches[0].pageX;b.y1=e.touches[0].pageY;0<p&&250>=p&&(b.isDoubleTap=!0);b.last=m;l=setTimeout(g,750)}).bind("touchmove",function(a){l&&clearTimeout(l);l=null;b.x2=a.touches[0].pageX;b.y2=a.touches[0].pageY}).bind("touchend",function(a){l&&clearTimeout(l);l=null;b.isDoubleTap?(b.el.trigger("doubleTap"),b={}):b.x2&&30<Math.abs(b.x1-b.x2)||b.y2&&30<Math.abs(b.y1-b.y2)?(b.el.trigger("swipe")&&b.el.trigger("swipe"+e(b.x1,b.x2,b.y1,b.y2)),b={}):"last"in b&&(b.el.trigger("tap"),f=setTimeout(function(){f=null;b.el.trigger("singleTap");b={}},250))}).bind("touchcancel",function(){f&&clearTimeout(f);l&&clearTimeout(l);l=f=null;b={}})});"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})})(Zepto);(function(a,e){"function"===typeof define&&define.amd?define(function(){return e(a,a.document)}):"undefined"!==typeof module&&module.exports?module.exports=e(a,a.document):a.Shake=e(a,a.document)})("undefined"!==typeof window?window:this,function(a,e){function g(b){this.hasDeviceMotion="ondevicemotion"in a;this.options={threshold:15,timeout:1E3};if("object"===typeof b)for(var f in b)b.hasOwnProperty(f)&&(this.options[f]=b[f]);this.lastTime=new Date;this.lastZ=this.lastY=this.lastX=null;if("function"===typeof e.CustomEvent)this.event=new e.CustomEvent("shake",{bubbles:!0,cancelable:!0});else if("function"===typeof e.createEvent)this.event=e.createEvent("Event"),this.event.initEvent("shake",!0,!0);else return!1}g.prototype.reset=function(){this.lastTime=new Date;this.lastZ=this.lastY=this.lastX=null};g.prototype.start=function(){this.reset();this.hasDeviceMotion&&a.addEventListener("devicemotion",this,!1)};g.prototype.stop=function(){this.hasDeviceMotion&&a.removeEventListener("devicemotion",this,!1);this.reset()};g.prototype.devicemotion=function(b){b=b.accelerationIncludingGravity;var e,g=e=0,m=0;if(null!==this.lastX||null!==this.lastY||null!==this.lastZ)if(e=Math.abs(this.lastX-b.x),g=Math.abs(this.lastY-b.y),m=Math.abs(this.lastZ-b.z),e>this.options.threshold&&g>this.options.threshold||e>this.options.threshold&&m>this.options.threshold||g>this.options.threshold&&m>this.options.threshold)e=new Date,e=e.getTime()-this.lastTime.getTime(),e>this.options.timeout&&(a.dispatchEvent(this.event),this.lastTime=new Date);this.lastX=b.x;this.lastY=b.y;this.lastZ=b.z};g.prototype.handleEvent=function(a){if("function"===typeof this[a.type])return this[a.type](a)};return g});Zepto(function(){initPage();(new Shake({threshold:15})).start();window.addEventListener("shake",shakeEventDidOccur,!1)});function shakeEventDidOccur(){lottery.rolling||lottery.start();return!1}function initPage(){lottery.init("lottery");$(".J-again-btn").on("tap",function(){notice.hide();window.addEventListener("shake",shakeEventDidOccur,!1)});$(".J-achieve-btn").on("tap",function(){notice.hide();$(".J-achieve-tip").show()});$(".J-share-btn").on("tap",function(){notice.hide();$(".J-share-tip").show()})}var lottery={index:-1,count:0,timer:0,speed:20,times:0,cycle:50,prize:-1,rolling:!1,init:function(a){0<$("#"+a).find(".lottery-unit").length&&($lottery=$("#"+a),$units=$lottery.find(".lottery-unit"),this.obj=$lottery,this.count=$units.length,$lottery.find(".lottery-unit-"+this.index).addClass("active"))},roll:function(){var a=this.index,e=this.count,g=this.obj;$(g).find(".lottery-unit-"+a).removeClass("active");a+=1;a>e-1&&(a=0);$(g).find(".lottery-unit-"+a).addClass("active");this.index=a;return!1},stop:function(){clearTimeout(lottery.timer);notice.show();lottery.prize=-1;lottery.times=0;lottery.rolling=!1;window.removeEventListener("shake",shakeEventDidOccur,!1)},start:function(){this.speed=20;roll();this.rolling=!0}};function roll(){lottery.times+=1;lottery.roll();lottery.times>lottery.cycle+10&&lottery.prize==lottery.index?lottery.stop():(lottery.times<lottery.cycle?lottery.speed-=10:lottery.times==lottery.cycle?(lottery.prize=Math.random()*lottery.count|0,notice.setContent()):lottery.speed=lottery.times>lottery.cycle+10&&(0==lottery.prize&&7==lottery.index||lottery.prize==lottery.index+1)?lottery.speed+110:lottery.speed+20,40>lottery.speed&&(lottery.speed=40),lottery.timer=setTimeout(roll,lottery.speed));return!1}var notice={show:function(){var a=prize[lottery.prize].status;this.hide();setTimeout(function(){$(".J-"+a+"-tip").show()},1E3)},hide:function(){$(".tip-box").hide()},setContent:function(){var a=prize[lottery.prize].status;$(".J-"+a+"-tip ."+a+"-box").empty().append(prize[lottery.prize]["prize-img"]);$(".J-"+a+"-tip .desc-box").empty().append(prize[lottery.prize]["desc-html"])}},prize={0:{status:"prize",title:"\u606d\u559c\u60a8\u83b7\u5f97\u201c\u5343\u91d1\u60c5\u4e49\u201d\u7684\u7ea2\u5305\u4e00\u4e2a",desc:"\u4ece\u6b64\u4e8b\u4e1a\u7231\u60c5\u53cc\u4e30\u6536","prize-img":'\x3cimg class\x3d"prize-img" src\x3d"images/prize/1-img.png"\x3e',"desc-html":'\x3cp\x3e\u83b7\u5f97\x3cspan class\x3d"warning"\x3e\u201c\u5343\u91d1\u60c5\u4e49\u201d\x3c/span\x3e\u7684\u7ea2\u5305\u4e00\u4e2a\x3c/p\x3e\x3cp class\x3d"title-2"\x3e\u4ece\u6b64\u4e8b\u4e1a\u7231\u60c5\u53cc\u4e30\u6536\x3c/p\x3e'},1:{status:"no-prize",title:"\u4f60\u77e5\u9053\u5927\u5934\u513f\u5b50\u5c0f\u5934\u7238\u7238\u53c8\u51fa\u8d3a\u5c81\u52a8\u753b\u7247\u4e86\u5417",desc:"\u53ef\u4e3a\u4ec0\u4e48\u5927\u5934\u513f\u5b50\u62b1\u7740\u673a\u5668\u4eba\uff0c2\u67087\u65e519:00\u592e\u89c6\u5c11\u513f\u9891\u9053\uff0c\u6211\u4e0d\u591a\u8bf4\uff0c\u4f60\u53bb\u770b\u3002","prize-img":'\x3cimg src\x3d"images/prize/2-img.png" alt\x3d""\x3e',"desc-html":'\x3cp class\x3d"title-2"\x3e\u4f60\u77e5\u9053\u5927\u5934\u513f\u5b50\u5c0f\u5934\u7238\u7238\x3c/p\x3e\x3cp class\x3d"title-2"\x3e\u53c8\u51fa\u8d3a\u5c81\u52a8\u753b\u7247\u4e86\u5417\x3c/p\x3e\x3cp\x3e\u53ef\u4e3a\u4ec0\u4e48\u5927\u5934\u513f\u5b50\u62b1\u7740\u673a\u5668\u4eba\x3c/p\x3e\x3cp\x3e2\u67087\u65e519:00\u592e\u89c6\u5c11\u513f\u9891\u9053\x3c/p\x3e\x3cp\x3e\u6211\u4e0d\u591a\u8bf4\uff0c\u4f60\u53bb\u770b\x3c/p\x3e'},2:{status:"prize",title:"\u606d\u559c\u60a8\u83b7\u5f97\u53bb\u5f80\u201c\u5168\u5bb6\u5e78\u798f\u5c9b\u201d\u7684\u98de\u673a\u7968",desc:"\u4ece\u6b64\u9616\u5bb6\u56e2\u5706\u4e50\u5f00\u6000","prize-img":'\x3cimg class\x3d"prize-img" src\x3d"images/prize/3-img.png"\x3e',"desc-html":'\x3cp\x3e\u83b7\u5f97\u53bb\u5f80\x3cspan class\x3d"warning"\x3e\u201c\u5168\u5bb6\u5e78\u798f\u5c9b\u201d\x3c/span\x3e\u7684\u98de\u673a\u7968\x3c/p\x3e\x3cp class\x3d"title-2"\x3e\u4ece\u6b64\u9616\u5bb6\u56e2\u5706\u4e50\u5f00\u6000\x3c/p\x3e'},3:{status:"prize",title:"\u606d\u559c\u60a8\u83b7\u5f97\u201c\u597d\u591a\u4e2a\u4ebf\u201d\u6709\u5956\u5f69\u7968\u4e00\u5f20",desc:"\u4ece\u6b64\u8d70\u4e0a\u4eba\u751f\u5dc5\u5cf0","prize-img":'\x3cimg class\x3d"prize-img" src\x3d"images/prize/4-img.png"\x3e',"desc-html":'\x3cp\x3e\u83b7\u5f97\x3cspan class\x3d"warning"\x3e\u201c\u597d\u591a\u4e2a\u4ebf\u201d\x3c/span\x3e\u6709\u5956\u5f69\u7968\u4e00\u5f20\x3c/p\x3e\x3cp class\x3d"title-2"\x3e\u4ece\u6b64\u8d70\u4e0a\u4eba\u751f\u5dc5\u5cf0\x3c/p\x3e'},4:{status:"no-prize",title:"2\u67087\u65e519:00\u592e\u89c6\u5c11\u513f\u9891\u9053",desc:"\u53bb\u770b\u5c0f\u5934\u7238\u7238\u600e\u6837\u800d\u5b9d \u8d62\u5f97\u7334\u5e74\u8d3a\u5c81\u5408\u5bb6\u6b22","prize-img":'\x3cimg src\x3d"images/prize/5-img.jpg"\x3e',"desc-html":'\x3cp class\x3d"title-1"\x3e2\u67087\u65e519:00\u592e\u89c6\u5c11\u513f\u9891\u9053\x3c/p\x3e\x3cp\x3e\u53bb\u770b\u5c0f\u5934\u7238\u7238\u600e\u6837\u800d\u5b9d\x3c/p\x3e\x3cp\x3e\u8d62\u5f97\u7334\u5e74\u8d3a\u5c81\u5408\u5bb6\u6b22\x3c/p\x3e'},5:{status:"prize",title:"\u606d\u559c\u60a8\u83b7\u5f97\u201c\u6211\u6700\u9177\u70ab\u201d\u6570\u7801\u4ea7\u54c1\u4e00\u5957",desc:"\u4ece\u6b64\u6f6e\u54c1\u4e0d\u65ad\u4efb\u541b\u6311\u9009","prize-img":'\x3cimg class\x3d"prize-img" src\x3d"images/prize/6-img.png"\x3e',"desc-html":'\x3cp\x3e\u606d\u559c\u60a8\u83b7\u5f97\x3cspan class\x3d"warning"\x3e\u201c\u6211\u6700\u9177\u70ab\u201d\x3c/span\x3e\u6570\u7801\u4ea7\u54c1\u4e00\u5957\x3c/p\x3e\x3cp class\x3d"title-2"\x3e\u4ece\u6b64\u6f6e\u54c1\u4e0d\u65ad\u4efb\u541b\u6311\u9009\x3c/p\x3e'},6:{status:"no-prize",title:"\u9664\u591519:00\u9501\u5b9a\u592e\u89c6\u5c11\u513f\u9891\u9053",desc:"\u56f4\u89c2\u5c0f\u5934\u7238\u7238\u53d8\u673a\u5668\u4eba\u5566","prize-img":'\x3cimg src\x3d"images/prize/7-img.jpg"\x3e',"desc-html":'\x3cp class\x3d"title-1"\x3e\u9664\u591519:00\u9501\u5b9a\u592e\u89c6\u5c11\u513f\u9891\u9053\x3c/p\x3e\x3cp\x3e\u56f4\u89c2\u5c0f\u5934\u7238\u7238\u53d8\u673a\u5668\u4eba\u5566\x3c/p\x3e'},7:{status:"prize",title:"\u83b7\u5f97\u201c\u53ea\u64ad\u653e\u6b22\u4e50\u201d\u7684\u5bb6\u5ead\u5f71\u9662",desc:"\u4ece\u6b64\u5bb6\u5ead\u548c\u7766\u66f4\u52a0\u878d\u6d3d","prize-img":'\x3cimg class\x3d"prize-img" src\x3d"images/prize/8-img.png"\x3e',"desc-html":'\x3cp\x3e\u83b7\u5f97\x3cspan class\x3d"warning"\x3e\u201c\u53ea\u64ad\u653e\u6b22\u4e50\u201d\x3c/span\x3e\u7684\u5bb6\u5ead\u5f71\u9662\x3c/p\x3e\x3cp class\x3d"title-2"\x3e\u4ece\u6b64\u5bb6\u5ead\u548c\u7766\u66f4\u52a0\u878d\u6d3d\x3c/p\x3e'}};